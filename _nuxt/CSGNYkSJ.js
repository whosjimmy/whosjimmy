import{d as k,u as m,s as y,r as p,a as M,c as i,o as n,b as s,w as _,v as h,e as S,f as a,g as T,h as C,t as d,i as v,j as x,_ as A,k as B}from"./DsRIpS39.js";import{u as z}from"./MCNK7gX7.js";const I={class:"container"},V={class:"row"},Y={class:"col-md-12"},U={class:"row"},E={class:"col-md-12"},L={class:"row"},N={class:"col-md-12"},O=["disabled"],W={class:"row"},D={class:"col-md-12"},F={key:0,class:"error-message"},G={key:1,class:"error-message"},H={key:2,class:"success-message"},P={name:"Login"},R=k({...P,setup(g){const o=m(),{authError:u}=y(o),e=z(),l=p(""),c=p(""),f=async()=>{await o.signIn(l.value,c.value)},w=async()=>{await e.signInWithYouTube()&&e.state.value.accessToken&&(o.setYouTubeAccess(e.state.value.accessToken),e.state.value.user&&await x().upsertUserProfile(e.state.value.user,!1))};return M(()=>{e.initializeYouTubeAuth()}),(b,t)=>(n(),i("div",I,[s("form",{onSubmit:S(f,["prevent"])},[s("div",V,[s("div",Y,[_(s("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>l.value=r),placeholder:"Email"},null,512),[[h,l.value]])])]),s("div",U,[s("div",E,[_(s("input",{"onUpdate:modelValue":t[1]||(t[1]=r=>c.value=r),type:"password",placeholder:"Password"},null,512),[[h,c.value]])])]),t[2]||(t[2]=s("div",{class:"row"},[s("div",{class:"col-md-12"},[s("button",{type:"submit"},"Sign In")])],-1))],32),t[4]||(t[4]=s("div",{class:"row mt-4"},[s("div",{class:"col-md-12"},[s("div",{class:"divider"},[s("span",null,"OR")])])],-1)),s("div",L,[s("div",N,[s("button",{type:"button",class:"google-signin-btn",disabled:a(e).state.value.loading,onClick:w},[t[3]||(t[3]=T('<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 48 48" data-v-32addee7><path fill="#EA4335" d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z" data-v-32addee7></path><path fill="#4285F4" d="M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z" data-v-32addee7></path><path fill="#FBBC05" d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z" data-v-32addee7></path><path fill="#34A853" d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z" data-v-32addee7></path><path fill="none" d="M0 0h48v48H0z" data-v-32addee7></path></svg>',1)),C(" "+d(a(e).state.value.loading?"Signing in...":"Sign in with Google for YouTube"),1)],8,O)])]),s("div",W,[s("div",D,[a(u)?(n(),i("p",F,d(a(u)),1)):v("",!0),a(e).state.value.error?(n(),i("p",G,d(a(e).state.value.error),1)):v("",!0),a(e).state.value.isSignedIn?(n(),i("p",H," âœ“ Connected to YouTube ")):v("",!0)])])]))}}),$=A(R,[["__scopeId","data-v-32addee7"]]),j={key:1},K={__name:"Login",setup(g){const o=m();return(u,e)=>(n(),i("div",null,[a(o).isAuthenticated?(n(),i("div",j,[s("p",null,"Welcome, "+d(a(o).getUser.email),1),s("button",{onClick:e[0]||(e[0]=(...l)=>a(o).signOut&&a(o).signOut(...l))},"Logout")])):(n(),B($,{key:0}))]))}};export{K as default};
